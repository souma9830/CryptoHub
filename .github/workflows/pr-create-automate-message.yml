name: Welcome PR Author

on:
  pull_request_target:
    types: [opened]

permissions:
  pull-requests: write
  issues: write

jobs:
  welcome-pr:
    runs-on: ubuntu-latest
    steps:
      - name: Welcome new PR
        uses: actions/github-script@v7
        with:
          script: |
            const prAuthor = context.payload.pull_request.user.login;
            const prNumber = context.payload.pull_request.number;

            const welcomeMessage =
              "## ğŸ‰ Thanks for the PR, @" + prAuthor + "!\n\n" +
              "We really appreciate you taking the time to contribute to **CryptoHub**! ğŸ’™\n\n" +
              "---\n\n" +
              "### â­ Love this project?\n" +
              "**Please give us a star!** It helps the project grow and reach more developers! ğŸŒŸ\n\n" +
              "ğŸ”— https://github.com/KaranUnique/CryptoHub" +
              "---\n\n" +
              "### âœ… PR Checklist\n" +
              "Before we review, please ensure:\n" +
              "- [ ] Your code follows the project's coding standards\n" +
              "- [ ] All file changes are accurate and intentional\n" +
              "- [ ] You've tested your changes locally\n" +
              "- [ ] Any review comments have been addressed\n\n" +
              "---\n\n" +
              "We'll review your PR as soon as possible. Keep up the great work! âœ¨";


            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: prNumber,
              body: welcomeMessage
            });

            console.log("âœ… Welcome comment added to PR #" + prNumber);